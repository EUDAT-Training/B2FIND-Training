# Configuring an OAI harvester
This document describes how to configure your own OAI-PMH harvester based on a joai installation.
We will take you through the steps of how to harvest the *oai endpoint* of an existing repository.

## Environment
Ubuntu 14.04 server

##Prerequisites
### 1. joai software is installed and running in an Apache Tomcat.
See 00-install-jOAI.md for details.
### 2. Admin account
If you start the provider setup you are prompted to login as user *admin*. By default the password is set as well to *admin*.
<!-- Is this true ??
Describe how to change the password !!!
By default there is no password asked. Everyone can access the server via the GUI
--> 

## Configuration
### 1. Configuration and customization
Open the GUI of joai. When you are working on your machine go to: 
```sh 
http://localhost/oai
``` 
and
If you work on a remote machine (e.g. one that was provided to follow the tutorial), go to:
```sh
http://<server>:8080/oai
```

In the menue **Harvester** you will find the option **Setup and Status**. 
Go to this page and click on **Add new harvest**. 
This form is used to set up the harvester. To this end we need to provide 
information on the repository we would like to harvest. If you do not have already 
configured a repository with an *oai-endpoint* you can use the following specifications.

We will fill the form with
```sh
Repository name: DataCite ANDS
Repository base URL: http://oai.datacite.org/oai
SetSpec: ANDS.CENTRE-1
Metadata format: oai_dc
``` 
Please set the *SetSpec*, a subset of DataCite, since DataCite's full set will be too large for testing purposes.
With the metadata format you specify which part of the oai-formatted metadata you want to harvest.
<!-- True??
-->

<img align="centre" src="img/jOAI_AddNewHarvest.png" width="800px">

The successful configuration will result in a new `Harvest Repository` :

<img align="centre" src="img/jOAI_HarvestRepos1.png" width="800px">

### 2. Harvesting the repository

To trigger now a new harvest you only need to click on the button **All** in the column **Manually Harvest**.

You can get to the view above by clicking on **Harvester** and then **Setup and Status**.

In the section *Status* there is a button **View the harvest status report for this harvest**. Click on it to monitor the progress:

<img align="centre" src="img/jOAI_HarvestHistory1.png" width="800px">

**Locate the harvested files on your machine!**


